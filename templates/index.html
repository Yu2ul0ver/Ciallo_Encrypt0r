{% extends "base.html" %}
{% block content %}
  <section class="grid md:grid-cols-2 gap-6 items-start">
    <div class="bg-white rounded-2xl p-6 shadow border border-slate-200 dark:bg-slate-900/60 dark:border-slate-800">
      <h1 class="text-2xl font-bold mb-4 text-indigo-600 dark:text-indigo-400">在线加密器</h1>
      <p class="text-slate-500 dark:text-slate-400 mb-4">输入要加密的内容（仅加密，不提供解密）。</p>

      <form method="post" action="{{ url_for('encrypt') }}" class="space-y-4">
        <textarea name="content" rows="6" required
          placeholder="例如：Ciallo～(∠・ω< )⌒★"
          class="w-full px-4 py-3 rounded-xl bg-white border border-slate-300 focus:outline-none focus:ring-2 focus:ring-indigo-500
                 dark:bg-slate-950 dark:border-slate-800"></textarea>

        <button type="submit"
          class="w-full py-3 rounded-xl bg-indigo-600 hover:bg-indigo-500 active:scale-[.99] transition font-semibold text-white">
          开始加密
        </button>
      </form>
    </div>

    <div class="bg-white rounded-2xl p-6 shadow border border-slate-200 dark:bg-slate-900/60 dark:border-slate-800">
      <h2 class="text-xl font-semibold mb-3 text-slate-700 dark:text-slate-200">加密结果</h2>
      {% if result %}
        <div class="cipher-block p-4 rounded-xl bg-slate-100 border border-slate-300 mb-3 overflow-auto max-h-80
                    dark:bg-slate-950 dark:border-slate-800">
          <code class="block whitespace-pre-wrap break-all">{{- result -}}</code>
        </div>
        <div class="flex gap-3">
          <button onclick='copyText(`{{ result|replace("`","\\`") }}`)'
            class="px-4 py-2 rounded-lg bg-slate-200 hover:bg-slate-300 text-slate-700
                   dark:bg-slate-800 dark:hover:bg-slate-700 dark:text-slate-200">复制密文</button>
        </div>
      {% else %}
        <p class="text-slate-400">提交后将在此展示密文。</p>
      {% endif %}
    </div>
  </section>
{% endblock %}
